<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TRAFFIK_APP.Views.DashboardPage"
             BackgroundColor="#000000"
             Title="Dashboard">

    <Grid RowDefinitions="Auto,*">
    <!-- Top Bar -->
    <Grid Padding="24" Row="0">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="Auto" />
      </Grid.ColumnDefinitions>
      <Label Text="TRAFFIK"
             FontSize="24"
             FontAttributes="Bold"
             TextColor="White"
             HorizontalOptions="Start" />
      <Image Source="bell_icon.png"
             HeightRequest="24"
             WidthRequest="24"
             HorizontalOptions="End"
             Grid.Column="1" />
    </Grid>

    <!-- Main Content -->
    <ScrollView Grid.Row="1">
      <VerticalStackLayout Padding="24" Spacing="24">
        <!-- Greeting -->
        <Label Text="Welcome back," FontSize="18" TextColor="White" />
        <Label Text="{Binding UserFullName}" FontSize="24" FontAttributes="Bold" TextColor="White" />

        <!-- Rewards -->
        <Border BackgroundColor="#1C1C1E"
                StrokeShape="RoundRectangle 12"
                Padding="16">
          <VerticalStackLayout>
            <Label Text="Your next reward!" FontSize="18" TextColor="White" />
            <HorizontalStackLayout Spacing="12" HorizontalOptions="Center">
              <Image Source="gift_icon.png" HeightRequest="32" WidthRequest="32" />
              <Image Source="gift_icon.png" HeightRequest="32" WidthRequest="32" />
              <Image Source="gift_icon.png" HeightRequest="32" WidthRequest="32" />
              <Image Source="gift_icon.png" HeightRequest="32" WidthRequest="32" />
              <Image Source="gift_icon.png" HeightRequest="32" WidthRequest="32" />
            </HorizontalStackLayout>
          </VerticalStackLayout>
        </Border>

        <!-- Vehicles -->
        <Label Text="Your vehicles" FontSize="18" FontAttributes="Bold" TextColor="White" />
        <ScrollView Orientation="Horizontal">
          <HorizontalStackLayout Spacing="12">
            <CollectionView ItemsSource="{Binding Vehicles}" ItemsLayout="HorizontalList">
              <CollectionView.ItemTemplate>
                <DataTemplate>
                  <Border BackgroundColor="#1C1C1E"
                          StrokeShape="RoundRectangle 12"
                          WidthRequest="160"
                          Padding="12">
                    <VerticalStackLayout>
                      <Image Source="{Binding ImageUrl}" HeightRequest="80" Aspect="AspectFill" />
                      <Label Text="{Binding Make}" FontAttributes="Bold" TextColor="White" />
                      <Label Text="{Binding Model}" TextColor="White" />
                    </VerticalStackLayout>
                  </Border>
                </DataTemplate>
              </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- Add Vehicle Card -->
            <Border Stroke="#2C2C2E" StrokeThickness="1" BackgroundColor="#1C1C1E"
                    WidthRequest="160" HeightRequest="120"
                    StrokeShape="RoundRectangle 12">
              <Grid>
                <Image Source="plus_icon.png" HeightRequest="32" WidthRequest="32" HorizontalOptions="Center" VerticalOptions="Center">
                  <Image.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnAddVehicleTapped" />
                  </Image.GestureRecognizers>
                </Image>
              </Grid>
            </Border>
          </HorizontalStackLayout>
        </ScrollView>

        <!-- Book a Service -->
        <Label Text="Book a Service" FontSize="18" FontAttributes="Bold" TextColor="White" />
        <Border BackgroundColor="#1C1C1E"
                StrokeShape="RoundRectangle 12"
                Padding="16">
          <VerticalStackLayout>
            <Label Text="Available services based on vehicle" FontSize="14" TextColor="White" />
            <ScrollView Orientation="Horizontal">
              <HorizontalStackLayout Spacing="12">
                <Border BackgroundColor="#2C2C2E"
                        StrokeShape="RoundRectangle 12"
                        WidthRequest="160"
                        Padding="12">
                  <VerticalStackLayout>
                    <Image Source="audi_icon.png" HeightRequest="80" Aspect="AspectFill" />
                    <Label Text="Audi A6" TextColor="White" FontAttributes="Bold" />
                  </VerticalStackLayout>
                </Border>
                <Border BackgroundColor="#2C2C2E"
                        StrokeShape="RoundRectangle 12"
                        WidthRequest="160"
                        Padding="12">
                  <VerticalStackLayout>
                    <Image Source="hilux_icon.png" HeightRequest="80" Aspect="AspectFill" />
                    <Label Text="Toyota Hilux" TextColor="White" FontAttributes="Bold" />
                  </VerticalStackLayout>
                </Border>
              </HorizontalStackLayout>
            </ScrollView>
          </VerticalStackLayout>
        </Border>
      </VerticalStackLayout>
    </ScrollView>
  </Grid>
</ContentPage>